# Polygon Point Containment Checker

## Эксплуатационная документация

**Программа:** polygon.exe **Версия:** 1.0 **Дата:** 2025-06-17

### Содержание

1. [Введение](#1-Введение)
2. [Назначение](#2-Назначение)
3. [Краткое описание функциональности](#3-Краткое-описание-функциональности)
4. [Структура программы](#4-Структура-программы)

   * 4.1. Файлы исходного кода
   * 4.2. Основные модули и классы
5. [Установка и подготовка среды](#5-Установка-и-подготовка-среды)
6. [Сборка и компиляция](#6-Сборка-и-компиляция)
7. [Настройка и запуск](#7-Настройка-и-запуск)

   * 7.1. Формат входного файла
   * 7.2. Формат выходного файла
   * 7.3. Параметры командной строки
8. [Обработка ошибок](#8-Обработка-ошибок)
9. [Тестирование](#9-Тестирование)
10. [Руководство программиста](#10-Руководство-программиста)
11. [Руководство системного программиста](#11-Руководство-системного-программиста)
12. [Сопровождение и развитие](#12-Сопровождение-и-развитие)

---
## 0. Структура репозитория

```
/                  # корень проекта
├─ README.md       # этот файл
├─ input.txt       # пример файла входных данных
├─ output.txt      # пример файла выхода
├─ src/            # исходный код
│   ├─ main.cpp
│   ├─ FileParser.h/.cpp
│   ├─ Validator.h/.cpp
│   ├─ Polygon.h/.cpp
│   ├─ IOManager.h/.cpp
│   ├─ Error.h/.cpp
│   └─ Point.h
├─ tests/          # модульные тесты (Visual Studio CppUnitTest)
├─ scripts/        # скрипты сборки и тестирования (батники)
```


### 1. Введение

Настоящая эксплуатационная документация разработана в соответствии с требованиями ГОСТ 19.504-79 «Руководство программиста» и ГОСТ 19.503-79 «Руководство системного программиста». Она описывает установку, сборку, запуск и сопровождение консольного приложения `polygon.exe`, проверяющего принадлежность точки невыпуклому многоугольнику.

### 2. Назначение

Программа предназначена для:

* Чтения описания невыпуклого многоугольника и координат тестовой точки из файла.
* Валидации корректности введённых данных.
* Проверки, лежит ли точка внутри или на границе многоугольника.
* Вывода результата в файл и на консоль.

### 3. Краткое описание функциональности

1. Чтение входных данных из `input.txt` (или указанного файла) через модуль *FileParser*.
2. Семантическая проверка данных модулем *Validator*.
3. Конструирование объекта *Polygon* и проверка его корректности.
4. Вычисление принадлежности точки через метод `contains`.
5. Запись результата `принадлежит` / `не принадлежит` в `output.txt` и вывод на экран.
6. Вывод подробных сообщений об ошибках при неудаче.

### 4. Структура программы

#### 4.1. Файлы исходного кода

* `main.cpp` — точка входа
* `FileParser.h`, `FileParser.cpp` — разбор и проверка синтаксиса входного файла
* `Validator.h`, `Validator.cpp` — семантическая валидация входных данных
* `Polygon.h`, `Polygon.cpp` — реализация алгоритмов проверки многоугольника и принадлежности точки
* `Point.h` — структура точки
* `Error.h`, `Error.cpp` — представление ошибок и генерация сообщений
* `IOManager.h`, `IOManager.cpp` — вывод результата и ошибок

#### 4.2. Основные модули и классы

* **FileParser**: читает строки, парсит количество вершин и координаты (`parsePointLine`), проверяет формат и диапазон
* **Validator**: проверяет:

  * N ∈ \[3,1000]
  * координаты вершин ∈ \[-999,999]
  * отсутствие дубликатов и коллинеарных троек
  * простоту и невыпуклость
  * диапазон тестовой точки
* **Polygon**: функции:

  * `signedArea` — ориентированная площадь
  * `orientation`, `onSegment`, `checkIntersection`, `checkCollinearity` — базовые геометрические примитивы
  * `contains` — алгоритм «чётности пересечений»
* **Error**: хранит код ошибки `ErrorType`, строку, номер и генерирует текстовое сообщение
* **IOManager**: записывает результат или ошибку

### 5. Установка и подготовка среды

1. **ОС:** Windows 10/11 или Linux с поддержкой UTF-8.
2. **Компилятор:** MSVC (Visual Studio 2019/2022) или GCC ≥ 9.
3. **Требования:**

   * Поддержка C++17
   * Правильная локаль для работы с русскими сообщениями (UTF-8)
4. **Репозиторий:** клонировать с GitHub в папку `polygon/`

### 6. Сборка и компиляция

* **Visual Studio:** открыть `polygon.sln`, собрать конфигурацию *Release*.
* **CMake (Linux):**

  ```bash
  mkdir build && cd build
  cmake ..
  make
  ```

### 7. Настройка и запуск

#### 7.1. Формат входного файла

```
N               # количество вершин (целое)
x1;y1           # координаты вершины 1 (float)
…
xN;yN           # координаты вершины N
xt;yt           # координаты тестовой точки
```

#### 7.2. Формат выходного файла

* `принадлежит` — если точка внутри или на границе
* `не принадлежит` — иначе

#### 7.3. Параметры командной строки

```
polygon.exe [input.txt] [output.txt]
```

По умолчанию используются `input.txt` и `output.txt` в рабочей папке.

### 8. Обработка ошибок

При ошибках парсинга или валидации программа выводит на консоль сообщение вида:

```
Ошибка: <ErrorType>: <описание>; Строка: "<lineContent>"; Линия: <lineNumber>; Файл: <fileName>
```

Код завершения:

* 2 — ошибка чтения/parsing
* 3 — семантическая валидация
* 4 — некорректный многоугольник
* 5 — ошибка записи результата

### 9. Тестирование

* Модульные тесты на базе Microsoft UnitTest для `Validator` и `Polygon`.
* Скрипты `.bat` для пакетного запуска тестов по разным `*.txt`.

### 10. Руководство программиста

* **Цель:** понимание структуры и кода.
* **Описание алгоритмов:**

  * `signedArea`: вычисление удвоенной площади нормализованным обходом
  * `contains`: проверка методом луча
* **Расширение:** добавление поддержки других типов форматов или 3D-точек в своих модулях.

### 11. Руководство системного программиста

* **Системные требования:** см. раздел 5
* **Развёртывание:** копирование `polygon.exe`, `input.txt` и библиотек на целевой сервер.
* **Автоматизация:** можно интегрировать в CI/CD с помощью CMake и MSBuild.
* **Мониторинг:** контроль кода возврата и логирования ошибок.

### 12. Сопровождение и развитие

* Для добавления новых проверок — расширить `Validator`.
* Для новой геометрии — дополнить `Polygon` новыми методами.
* Обновить документацию Doxygen перед каждым релизом.



